<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Chad Sikorra">
        <link rel="canonical" href="http://www.phpldaptools.com/reference/Attribute-Converters/">
        <link rel="shortcut icon" href="../../img/favicon.ico">

	<title>Attribute Converters - LdapTools</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../..">LdapTools</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../..">Home</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Cookbook <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../cookbook/Authenticating-a-User/">Authenticating a User</a>
</li>

                        
                            
<li >
    <a href="../../cookbook/Common-LDAP-Queries/">Common LDAP Queries</a>
</li>

                        
                            
<li >
    <a href="../../cookbook/Creating-a-Custom-Repository/">Creating a Custom Repository</a>
</li>

                        
                            
<li >
    <a href="../../cookbook/Modifying-GPO-Links-on-OUs/">Modifying GPO Links on OUs</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tutorials <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../tutorials/AD-User-Modification/">AD User Modification</a>
</li>

                        
                            
<li >
    <a href="../../tutorials/Building-LDAP-Queries/">Building LDAP Queries</a>
</li>

                        
                            
<li >
    <a href="../../tutorials/Creating-AD-Password-Settings-Objects/">Creating AD Password Settings Objects</a>
</li>

                        
                            
<li >
    <a href="../../tutorials/Creating-LDAP-Objects/">Creating LDAP Objects</a>
</li>

                        
                            
<li >
    <a href="../../tutorials/LDIF-Files/">LDIF Files</a>
</li>

                        
                            
<li >
    <a href="../../tutorials/Modifying-LDAP-Objects/">Modifying LDAP Objects</a>
</li>

                        
                            
<li >
    <a href="../../tutorials/Using-the-LDAP-Manager/">Using the LDAP Manager</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li class="active">
    <a href="./">Attribute Converters</a>
</li>

                        
                            
<li >
    <a href="../Default-Schema-Attributes/">Default Schema Attributes</a>
</li>

                        
                            
<li >
    <a href="../Events/">Events</a>
</li>

                        
                            
<li >
    <a href="../Logging/">Logging</a>
</li>

                        
                            
<li >
    <a href="../Main-Configuration/">Main Configuration</a>
</li>

                        
                            
<li >
    <a href="../Schema-Configuration/">Schema Configuration</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../../tutorials/Using-the-LDAP-Manager/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../Default-Schema-Attributes/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
                    <li>
                        <a href="https://github.com/ldaptools/ldaptools/">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#attribute-converters">Attribute Converters</a></li>
        
            <li><a href="#default-attribute-converters">Default Attribute Converters</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="attribute-converters">Attribute Converters</h1>
<hr />
<p>Attribute converters are responsible for converting data from LDAP to the format you want it as in PHP, and vice-versa.
Several attribute converters are built-in and exist under the <code>\LdapTools\AttributeConverter</code> namespace. All attribute
converters have the methods <code>toLdap($value)</code> and <code>fromLdap($value)</code> that you can use to convert your data to the correct
form. Typically this is done automatically from the schema definition, but you can also use them on their own as long as
they don't have a dependency on the <code>LdapConnection</code> to make the data conversion.</p>
<pre><code class="php">use LdapTools\Factory\AttributeConvertFactory;

// will return the string form of an objectGuid binary value.
$guid = AttributeConverterFactory::get('windows_guid')-&gt;fromLdap($value)
</code></pre>

<p>The <code>AttributeConverterInterface</code> requires a method called <code>setLdapConnection</code>. This is called during the data hydration
process and the converter may use the connection to make LDAP calls to resolve data as necessary.</p>
<h2 id="default-attribute-converters">Default Attribute Converters</h2>
<hr />
<h4 id="bool"><em>bool</em></h4>
<ul>
<li>
<p><code>toLdap</code>: Converts a PHP bool to a string of 'TRUE' or 'FALSE'.</p>
</li>
<li>
<p><code>fromLdap</code>: Converts a LDAP 'TRUE' or 'FALSE' string into a corresponding PHP bool.</p>
</li>
</ul>
<h4 id="int"><em>int</em></h4>
<ul>
<li>
<p><code>toLdap</code>: Converts a PHP int to a string.</p>
</li>
<li>
<p><code>fromLdap</code>: Converts a LDAP numeric string to a PHP int.</p>
</li>
</ul>
<h4 id="generalized_time"><em>generalized_time</em></h4>
<ul>
<li>
<p><code>toLdap</code>: Converts a PHP <code>\DateTime</code> object to a generalized timestamp string.</p>
</li>
<li>
<p><code>fromLdap</code>: Converts a LDAP generalized timestamp into a PHP <code>\DateTime</code> object.</p>
</li>
</ul>
<h4 id="password_must_change"><em>password_must_change</em></h4>
<ul>
<li>
<p><code>toLdap</code>: Converts a PHP bool to either a -1 (false) or 0 (true). This toggles the "Password Must Change" property.</p>
</li>
<li>
<p><code>fromLdap</code>: Converts a LDAP '0' (true - password must change) or '&gt;0' (false - password doesn't have to change).</p>
</li>
</ul>
<h4 id="windows_generalized_time"><em>windows_generalized_time</em></h4>
<ul>
<li>
<p><code>toLdap</code>: Converts a PHP <code>\DateTime</code> object to the generalized timestamp format string that Active Directory expects.</p>
</li>
<li>
<p><code>fromLdap</code>: Converts an Active Directory generalized timestamp format to a PHP <code>\DateTime</code> object.</p>
</li>
</ul>
<h4 id="windows_guid"><em>windows_guid</em></h4>
<ul>
<li>
<p><code>toLdap</code>: Converts a string GUID to an escaped hex sequence string.</p>
</li>
<li>
<p><code>fromLdap</code>: Converts a binary GUID to its string representation.</p>
</li>
</ul>
<h4 id="windows_sid"><em>windows_sid</em></h4>
<ul>
<li>
<p><code>toLdap</code>: Converts a string SID to an escaped hex sequence string.</p>
</li>
<li>
<p><code>fromLdap</code>: Converts a binary SID to its string representation.</p>
</li>
</ul>
<h4 id="windows_time"><em>windows_time</em></h4>
<ul>
<li>
<p><code>toLdap</code>: Converts a PHP <code>\DateTime</code> object into a string representation of Windows time (nanoseconds).</p>
</li>
<li>
<p><code>fromLdap</code>: Converts a Windows timestamp into a PHP <code>\DateTime</code> object.</p>
</li>
</ul>
<h4 id="encode_windows_password"><em>encode_windows_password</em></h4>
<ul>
<li>
<p><code>toLdap</code>: Encodes a string to its unicodePwd representation, which is a quote encased UTF-16LE encoded value.</p>
</li>
<li>
<p><code>fromLdap</code>: This will not do anything since a unicodePwd attribute cannot be queried.</p>
</li>
</ul>
<h4 id="exchange_proxy_address"><em>exchange_proxy_address</em></h4>
<ul>
<li>
<p><code>toLdap</code>: Takes an array of email addresses and formats them properly for the proxyAddresses attribute.</p>
</li>
<li>
<p><code>fromLdap</code>: Parses through the proxyAddresses attribute to return only the address portion for a specific address type.</p>
</li>
</ul>
<h4 id="logon_workstations"><em>logon_workstations</em></h4>
<ul>
<li>
<p><code>toLdap</code>: Takes an array of computer names and formats it as a comma-separated list for LDAP.</p>
</li>
<li>
<p><code>fromLdap</code>: Formats the comma-separated list from LDAP as an array of computer names.</p>
</li>
</ul>
<h4 id="account_expires"><em>account_expires</em></h4>
<ul>
<li>
<p><code>toLdap</code>: Takes either a bool false (never expires) or a <code>\DateTime</code> object for when it should expire.</p>
</li>
<li>
<p><code>fromLdap</code>: Will either be false (never expires) or a <code>\DateTime</code> object of when it will expire.</p>
</li>
</ul>
<h4 id="group_type"><em>group_type</em></h4>
<ul>
<li>
<p><code>toLdap</code>: Takes a bool and switches the group between domain local, universal, global, security, or distribution.</p>
</li>
<li>
<p><code>fromLdap</code>: Depending on the attribute, does a bitwise conversion to set a specific type as true or false.</p>
</li>
</ul>
<h4 id="gpo_link"><em>gpo_link</em></h4>
<ul>
<li>
<p><code>toLdap</code>: Takes an array of GPO names, retrieves their DNs, and returns a valid string for the gPLink attribute.</p>
</li>
<li>
<p><code>fromLdap</code>: Takes a gPLink attribute string, splits it into the distinct GPOs, and returns an array of GPO names.</p>
</li>
</ul>
<h4 id="value_to_dn"><em>value_to_dn</em></h4>
<ul>
<li>
<p><code>toLdap</code>: Takes an objects GUID, SID, DN, or name and returns the full distinguished name after validating it exists.</p>
</li>
<li>
<p><code>fromLdap</code>: Returns a common name for the object instead of the full distinguished name.</p>
</li>
</ul>
<h4 id="primary_group"><em>primary_group</em></h4>
<ul>
<li>
<p><code>toLdap</code>: Takes a group name and converts it to its RID decimal value for the primaryGroupID attribute.</p>
</li>
<li>
<p><code>fromLdap</code>: Takes the RID of a group and returns the group's name.</p>
</li>
</ul>
<h4 id="functional_level"><em>functional_level</em></h4>
<ul>
<li>
<p><code>toLdap</code>: This should not be used. You should only read the value from LDAP.</p>
</li>
<li>
<p><code>fromLdap</code>: Takes an Active Directory functional level as an int and converts it to a human readable form.</p>
</li>
</ul>
<h4 id="gpoptions"><em>gpoptions</em></h4>
<ul>
<li>
<p><code>toLdap</code>: Takes a bool and converts it to a string int to represent whether inheritance is blocked on an OU. </p>
</li>
<li>
<p><code>fromLdap</code>: Takes a gpOptions value and converts it to a bool for whether GPO inheritance is set to be blocked.</p>
</li>
</ul>
<h4 id="exchange_roles"><em>exchange_roles</em></h4>
<ul>
<li>
<p><code>toLdap</code>: This should not be used. It currently does not modify the value going back to LDAP.</p>
</li>
<li>
<p><code>fromLdap</code>: Takes an integer and and determines what roles it contains and converts that to an array of role names.</p>
</li>
</ul>
<h4 id="exchange_version"><em>exchange_version</em></h4>
<ul>
<li>
<p><code>toLdap</code>: This should not be used. It currently does not modify the value going back to LDAP.</p>
</li>
<li>
<p><code>fromLdap</code>: Takes a build string stored in the serialNumber attribute and parses it to a readable Exchange version.</p>
</li>
</ul>
<h4 id="ldap_type"><em>ldap_type</em></h4>
<ul>
<li>
<p><code>toLdap</code>: This should not be used. It is currently unsupported.</p>
</li>
<li>
<p><code>fromLdap</code>: This returns the LDAP Object Type string represented by the <code>LdapTools\Object\LdapObjectType</code> constants.</p>
</li>
</ul></div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
                <p>Copyright &copy; 2015, Chad Sikorra.</p>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>
